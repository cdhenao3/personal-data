{"ast":null,"code":"import axios from \"axios\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { initialValues as initialPersonal } from \"components/DataPersonal\";\nimport { initialValues as initialAcademic } from \"components/DataAcademic\";\nimport { URL } from \"./../constants\";\nexport const dataCounter = createSlice({\n  name: 'data',\n  initialState: {\n    personal: initialPersonal,\n    academic: initialAcademic,\n    data: [],\n    error: null\n  },\n  reducers: {\n    savePersonalData: (state, action) => {\n      state.personal = action.payload;\n    },\n    saveAcademicData: (state, action) => {\n      state.academic = action.payload;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchData.fulfilled, (state, action) => {\n      console.log('action.payload', action.payload);\n      state.error = action.payload.error;\n      state.data = action.payload.data.map(data => ({\n        ...data.personalData,\n        educationLevel: data.educationLevel,\n        educationCenter: data.educationCenter\n      }));\n    });\n  }\n});\nexport const fetchData = createAsyncThunk('data/fetchData', async () => {\n  try {\n    const response = await axios.get(`${URL}/personal`);\n    return {\n      data: response.data\n    };\n  } catch (error) {\n    return {\n      data: [],\n      error: error.message\n    };\n  }\n});\nexport const {\n  saveAcademicData,\n  savePersonalData\n} = dataCounter.actions;\nexport default dataCounter.reducer;","map":{"version":3,"names":["axios","createAsyncThunk","createSlice","initialValues","initialPersonal","initialAcademic","URL","dataCounter","name","initialState","personal","academic","data","error","reducers","savePersonalData","state","action","payload","saveAcademicData","extraReducers","builder","addCase","fetchData","fulfilled","console","log","map","personalData","educationLevel","educationCenter","response","get","message","actions","reducer"],"sources":["D:/Documents/Projects/personal-data/packages/reactapp/src/features/dataCounter.ts"],"sourcesContent":["import axios from \"axios\";\r\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { initialValues as initialPersonal } from \"components/DataPersonal\";\r\nimport { initialValues as initialAcademic } from \"components/DataAcademic\";\r\nimport { URL } from \"./../constants\";\r\n\r\nexport const dataCounter = createSlice({\r\n    name: 'data',\r\n    initialState: {\r\n        personal: initialPersonal,\r\n        academic: initialAcademic,\r\n        data: [],\r\n        error: null\r\n    },\r\n    reducers: {\r\n        savePersonalData: (state, action) => {\r\n            state.personal = action.payload\r\n        },\r\n        saveAcademicData: (state, action) => {\r\n            state.academic = action.payload\r\n        }\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder.addCase(fetchData.fulfilled, (state, action) => {\r\n            console.log('action.payload', action.payload)\r\n            state.error = action.payload.error;\r\n            state.data = action.payload.data.map((data: any) => ({\r\n                ...data.personalData,\r\n                educationLevel: data.educationLevel,\r\n                educationCenter: data.educationCenter\r\n            }))\r\n        })\r\n    }\r\n})\r\n\r\nexport const fetchData = createAsyncThunk('data/fetchData', async () => {\r\n    try {\r\n        const response = await axios.get(`${URL}/personal`)\r\n\r\n        return { data: response.data }\r\n    } catch (error: any) {\r\n        return {\r\n            data: [],\r\n            error: error.message\r\n        }\r\n    }\r\n})\r\n\r\nexport const { saveAcademicData, savePersonalData } = dataCounter.actions\r\n\r\nexport default dataCounter.reducer"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAEhE,SAASC,aAAa,IAAIC,eAAe,QAAQ,yBAAyB;AAC1E,SAASD,aAAa,IAAIE,eAAe,QAAQ,yBAAyB;AAC1E,SAASC,GAAG,QAAQ,gBAAgB;AAEpC,OAAO,MAAMC,WAAW,GAAGL,WAAW,CAAC;EACnCM,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,QAAQ,EAAEN,eAAe;IACzBO,QAAQ,EAAEN,eAAe;IACzBO,IAAI,EAAE,EAAE;IACRC,KAAK,EAAE;EACX,CAAC;EACDC,QAAQ,EAAE;IACNC,gBAAgB,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACjCD,KAAK,CAACN,QAAQ,GAAGO,MAAM,CAACC,OAAO;IACnC,CAAC;IACDC,gBAAgB,EAAE,CAACH,KAAK,EAAEC,MAAM,KAAK;MACjCD,KAAK,CAACL,QAAQ,GAAGM,MAAM,CAACC,OAAO;IACnC;EACJ,CAAC;EACDE,aAAa,EAAGC,OAAO,IAAK;IACxBA,OAAO,CAACC,OAAO,CAACC,SAAS,CAACC,SAAS,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MACpDQ,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAET,MAAM,CAACC,OAAO,CAAC;MAC7CF,KAAK,CAACH,KAAK,GAAGI,MAAM,CAACC,OAAO,CAACL,KAAK;MAClCG,KAAK,CAACJ,IAAI,GAAGK,MAAM,CAACC,OAAO,CAACN,IAAI,CAACe,GAAG,CAAEf,IAAS,KAAM;QACjD,GAAGA,IAAI,CAACgB,YAAY;QACpBC,cAAc,EAAEjB,IAAI,CAACiB,cAAc;QACnCC,eAAe,EAAElB,IAAI,CAACkB;MAC1B,CAAC,CAAC,CAAC;IACP,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AAEF,OAAO,MAAMP,SAAS,GAAGtB,gBAAgB,CAAC,gBAAgB,EAAE,YAAY;EACpE,IAAI;IACA,MAAM8B,QAAQ,GAAG,MAAM/B,KAAK,CAACgC,GAAG,CAAE,GAAE1B,GAAI,WAAU,CAAC;IAEnD,OAAO;MAAEM,IAAI,EAAEmB,QAAQ,CAACnB;IAAK,CAAC;EAClC,CAAC,CAAC,OAAOC,KAAU,EAAE;IACjB,OAAO;MACHD,IAAI,EAAE,EAAE;MACRC,KAAK,EAAEA,KAAK,CAACoB;IACjB,CAAC;EACL;AACJ,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEd,gBAAgB;EAAEJ;AAAiB,CAAC,GAAGR,WAAW,CAAC2B,OAAO;AAEzE,eAAe3B,WAAW,CAAC4B,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}